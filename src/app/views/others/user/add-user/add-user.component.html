<mat-card class="p-0">
  <mat-card-title class="">
    <div class="card-title-text">{{title}} User</div>
    <mat-divider></mat-divider>
  </mat-card-title>
  <mat-card-content>
    <div class="example-loading-shade" *ngIf="isLoadingResults">
      <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>
    <form [formGroup]="userForm">
      <ng-template matStepLabel>User information</ng-template>
      <div fxLayoutAlign.gt-xs="space-between start" fxLayout.xs="column">
        <mat-form-field fxFlex="100" fxFlex.gt-xs="32">
          <mat-select formControlName="societyid" placeholder="Please Select Society">
            <mat-option *ngFor="let society of societies" [value]="society.id">
              {{society.societyName}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="societyid.invalid && (societyid.dirty || societyid.touched)" class="alert alert-danger">
            <mat-error *ngIf="societyid.errors.required">
              Society name is required.
            </mat-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="32">
          <input matInput placeholder="Username" type="text" minlength="3" maxlength="30" formControlName="username"
            required>
          <mat-error *ngIf="username.invalid && (username.dirty || username.touched)" class="alert alert-danger">
            <mat-error *ngIf="username.errors.required">
              Username is required.
            </mat-error>
            <mat-error *ngIf="username.errors.minlength">
              Username must be at least 3 characters long.
            </mat-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="32">
          <input matInput placeholder="Email Id" type="text" minlength="5" maxlength="40" formControlName="email"
            required>
          <mat-error *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
            <mat-error *ngIf="email.errors.required">
              Email id is required.
            </mat-error>
          </mat-error>
        </mat-form-field>
      </div>
      <div fxLayoutAlign.gt-xs="space-between start" fxLayout.xs="column">
        <mat-form-field fxFlex="100" fxFlex.gt-xs="48.50">
          <input matInput placeholder="First Name" type="text" minlength="3" maxlength="15" formControlName="firstname"
            required>
          <mat-error *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="alert alert-danger">
            <mat-error *ngIf="firstname.errors.required">
              First Name is required.
            </mat-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="48.50">
          <input matInput placeholder="Last Name" type="text" minlength="3" maxlength="15" formControlName="lastname"
            required>
          <mat-error *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="alert alert-danger">
            <mat-error *ngIf="lastname.errors.required">
              Last Name is required.
            </mat-error>
          </mat-error>
        </mat-form-field>
      </div>
      <div fxLayoutAlign.gt-xs="space-between start" fxLayout.xs="column">
        <mat-form-field fxFlex="100" fxFlex.gt-xs="23">
          <input matInput placeholder="Contact No" type="text" minlength="3" maxlength="15" formControlName="contactno"
            required>
          <mat-error *ngIf="contactNo.invalid && (contactNo.dirty || contactNo.touched)" class="alert alert-danger">
            <mat-error *ngIf="contactNo.errors.required">
              Contact number is required.
            </mat-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="23">
          <input matInput placeholder="Alternate contact no" maxlength="15" type="text" formControlName="phoneNo">
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="23">
          <input matInput placeholder="Fax" type="text" maxlength="30" formControlName="fax">
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="23">
          <input matInput placeholder="Total Apartments" type="text" maxlength="30" formControlName="apartments"
            required>
        </mat-form-field>
      </div>
      <div fxLayoutAlign.gt-xs="space-between start" fxLayout.xs="column">
        <mat-form-field fxFlex="100" fxFlex.gt-xs="48.50">
          <input matInput placeholder="Address Line 1" type="text" maxlength="80" formControlName="streetno">
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="48.50">
          <input matInput placeholder="Address Line 2" type="text" maxlength="80" formControlName="streetname">
        </mat-form-field>
      </div>
      <div fxLayoutAlign.gt-xs="space-between start" fxLayout.xs="column">
        <mat-form-field fxFlex="100" fxFlex.gt-xs="23">
          <input matInput placeholder="City" type="text" maxlength="30" formControlName="city">
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="22">
          <input matInput placeholder="Postal code" type="text" maxlength="10" formControlName="postalcode">
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="23">
          <mat-select placeholder="Select Country" name="country" formControlName="country"
            (selectionChange)="onSelect($event.value)">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let obj of countries" [value]="obj">
              {{ obj }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field fxFlex="100" fxFlex.gt-xs="22">
          <mat-select placeholder="Select State" name="province" formControlName="province">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let obj of states" [value]="obj.name">
              {{ obj.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxLayoutAlign.gt-xs="space-between start" fxLayout.xs="column">
        <mat-form-field fxFlex="100" fxFlex.gt-xs="48.50">
          <mat-select formControlName="role" placeholder="Please Select role">
            <mat-option *ngFor="let obj of roles" [value]="obj.id">
              {{obj.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="role.invalid && (role.dirty || role.touched)" class="alert alert-danger">
            <mat-error *ngIf="role.errors.required">
              Society name is required.
            </mat-error>
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <button mat-raised-button color="accent" type="button" (click)="goBack()" class="mr-1">Back</button>
        <button mat-raised-button color="primary"
          (click)="onSubmit()">Submit</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>